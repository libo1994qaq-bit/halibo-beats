<!doctype html>
<html>
  <head prefix="og:http://ogp.me/ns#">
    <meta charset="utf-8" />
    <!-- å…³é”®ä¿®å¤ï¼šä½¿ç”¨æ­£ç¡®çš„viewportè®¾ç½® -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta http-equiv="cleartype" content="on" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#000000" />
    
    <!-- iOS å…¨å±è®¾ç½® -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="HALIBO Beats" />
    
    <!-- ä¸­æ–‡æè¿° -->
    <meta name="description" content="æ•²å‡»èŠ‚å¥ï¼ŒæŒ‘æˆ˜æé™ï¼HALIBO Beats - æ²‰æµ¸å¼éŸ³ä¹èŠ‚å¥æ¸¸æˆã€‚" />

    <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="apple-touch-icon" href="./icon-256.png" />

    <!-- ç½‘ç«™ä¿¡æ¯ -->
    <meta property="og:url" content="https://libo1994qaq-bit.github.io/halibo-beats/" />
    <meta property="og:title" content="HALIBO Beats" />
    <meta property="og:description" content="æ•²å‡»èŠ‚å¥ï¼ŒæŒ‘æˆ˜æé™ï¼HALIBO Beats - æ²‰æµ¸å¼éŸ³ä¹èŠ‚å¥æ¸¸æˆã€‚" />
    <meta property="og:image" content="https://libo1994qaq-bit.github.io/halibo-beats/ogp.png" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="HALIBO Beats" />
    <meta name="twitter:card" content="summary_large_image" />

    <title>HALIBO Beats</title>
    
    <style>
      /* åŸºç¡€æ ·å¼ - å…³é”®ä¿®å¤ï¼šç¡®ä¿100%å¡«å…… */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
        font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        color: #fff;
        /* å…³é”®ï¼šç¡®ä¿å…¨å±æ—¶æ²¡æœ‰ç©ºç™½ */
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }

      /* æ¸¸æˆå®¹å™¨ - å…³é”®ä¿®å¤ï¼šä½¿ç”¨flexç¡®ä¿å†…å®¹å±…ä¸­ */
      #game-container {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        background: #000;
      }

      /* å…³é”®ï¼šæ¸¸æˆç”»å¸ƒå®¹å™¨ï¼Œä¿æŒæ¯”ä¾‹æ‹‰ä¼¸ */
      #game-app {
        width: 100%;
        height: 100%;
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      }

      /* å¼ºåˆ¶Phaser/Canvasç”»å¸ƒæ‹‰ä¼¸å¹¶ä¿æŒæ¯”ä¾‹ */
      #game-app canvas {
        position: absolute !important;
        max-width: 100% !important;
        max-height: 100% !important;
        width: auto !important;
        height: auto !important;
        object-fit: contain !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
      }

      /* ä¿®å¤ï¼šå…¨å±æ—¶çš„ç‰¹æ®Šæ ·å¼ */
      :fullscreen #game-container,
      :-webkit-full-screen #game-container,
      :-moz-full-screen #game-container,
      :-ms-fullscreen #game-container {
        width: 100vw !important;
        height: 100vh !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        background: #000 !important;
      }

      :fullscreen #game-app,
      :-webkit-full-screen #game-app,
      :-moz-full-screen #game-app,
      :-ms-fullscreen #game-app {
        width: 100% !important;
        height: 100% !important;
        background: #000 !important;
      }

      /* å…³é”®ï¼šå…¨å±æ—¶å¼ºåˆ¶ç”»å¸ƒå¡«æ»¡ */
      :fullscreen #game-app canvas,
      :-webkit-full-screen #game-app canvas,
      :-moz-full-screen #game-app canvas,
      :-ms-fullscreen #game-app canvas {
        max-width: 100vw !important;
        max-height: 100vh !important;
        width: 100% !important;
        height: 100% !important;
        object-fit: cover !important;
      }

      /* æ¨ªå±æç¤º */
      #landscape-warning {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        text-align: center;
        padding: 20px;
        animation: gradientBG 10s ease infinite;
        background-size: 400% 400%;
      }

      @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      .phone-icon {
        width: 150px;
        height: 250px;
        position: relative;
        margin-bottom: 30px;
        animation: phoneRotate 3s ease-in-out infinite;
      }

      .phone-body {
        width: 120px;
        height: 220px;
        background: #111;
        border-radius: 25px;
        position: relative;
        border: 8px solid #333;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      }

      .phone-screen {
        width: 100px;
        height: 160px;
        background: #222;
        border-radius: 15px;
        position: absolute;
        top: 20px;
        left: 10px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .music-bar {
        width: 80%;
        height: 4px;
        background: linear-gradient(90deg, #ff0080, #00ccff);
        margin: 3px 0;
        transform-origin: left;
        animation: musicPulse 1s ease-in-out infinite;
        animation-delay: calc(var(--i) * 0.1s);
      }

      @keyframes musicPulse {
        0%, 100% { transform: scaleX(0.3); }
        50% { transform: scaleX(1); }
      }

      @keyframes phoneRotate {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-90deg); }
        50% { transform: rotate(-90deg); }
        75% { transform: rotate(-90deg); }
      }

      .landscape-text {
        font-size: 28px;
        margin-bottom: 15px;
        color: #ff0080;
        text-shadow: 0 0 10px rgba(255, 0, 128, 0.5);
        animation: textGlow 2s ease-in-out infinite;
      }

      @keyframes textGlow {
        0%, 100% { text-shadow: 0 0 10px rgba(255, 0, 128, 0.5); }
        50% { text-shadow: 0 0 20px rgba(255, 0, 128, 0.8), 0 0 30px rgba(0, 204, 255, 0.6); }
      }

      .landscape-subtext {
        font-size: 16px;
        margin-bottom: 30px;
        color: #00ccff;
        max-width: 300px;
        line-height: 1.5;
      }

      .continue-button {
        padding: 15px 35px;
        font-size: 18px;
        font-weight: bold;
        background: linear-gradient(45deg, #ff0080, #00ccff);
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 20px rgba(255, 0, 128, 0.4);
        position: relative;
        overflow: hidden;
      }

      .continue-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(255, 0, 128, 0.6);
      }

      .continue-button:active {
        transform: translateY(-1px);
      }

      /* å¾®ä¿¡ä¸“ç”¨æç¤º - é‡æ–°è®¾è®¡ï¼Œå¼ºçƒˆè¯±å¯¼ä½¿ç”¨æµè§ˆå™¨ */
      #wechat-warning {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 3000;
        text-align: center;
        padding: 20px;
        overflow-y: auto;
      }

      .wechat-header {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 0, 128, 0.2);
        border: 2px solid #ff0080;
        border-radius: 20px;
        padding: 8px 15px;
        font-size: 14px;
        font-weight: bold;
        color: #ff0080;
        animation: headerPulse 2s ease-in-out infinite;
      }

      @keyframes headerPulse {
        0%, 100% { box-shadow: 0 0 10px rgba(255, 0, 128, 0.3); }
        50% { box-shadow: 0 0 20px rgba(255, 0, 128, 0.6); }
      }

      .wechat-icon {
        font-size: 80px;
        margin-bottom: 20px;
        animation: wechatPulse 2s ease-in-out infinite;
        background: linear-gradient(45deg, #ff0080, #00ccff);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      @keyframes wechatPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
      }

      .wechat-title {
        font-size: 32px;
        margin-bottom: 10px;
        background: linear-gradient(45deg, #ff0080, #00ccff);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: bold;
        text-shadow: 0 5px 15px rgba(255, 0, 128, 0.3);
      }

      .wechat-subtitle {
        font-size: 18px;
        margin-bottom: 30px;
        color: #00ccff;
        max-width: 300px;
      }

      .wechat-warning-box {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 0, 128, 0.5);
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        max-width: 350px;
        backdrop-filter: blur(10px);
      }

      .warning-title {
        color: #ff5555;
        font-size: 20px;
        margin-bottom: 10px;
        font-weight: bold;
      }

      .warning-list {
        text-align: left;
        margin: 15px 0;
        color: #ffcc00;
      }

      .warning-list li {
        margin-bottom: 8px;
        padding-left: 5px;
      }

      .wechat-steps {
        background: rgba(0, 204, 255, 0.1);
        border: 2px solid rgba(0, 204, 255, 0.5);
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        max-width: 350px;
        backdrop-filter: blur(10px);
      }

      .steps-title {
        color: #00ccff;
        font-size: 20px;
        margin-bottom: 15px;
        font-weight: bold;
      }

      .step-item {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        padding: 10px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
      }

      .step-number {
        width: 36px;
        height: 36px;
        background: linear-gradient(45deg, #ff0080, #00ccff);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 18px;
        margin-right: 15px;
        flex-shrink: 0;
      }

      .step-text {
        text-align: left;
        color: white;
        font-size: 16px;
      }

      .highlight {
        color: #ff0080;
        font-weight: bold;
        background: rgba(255, 0, 128, 0.1);
        padding: 2px 5px;
        border-radius: 4px;
      }

      .wechat-benefits {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
        max-width: 350px;
      }

      .benefit-item {
        background: rgba(0, 204, 255, 0.1);
        border: 1px solid rgba(0, 204, 255, 0.3);
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        flex: 1;
        min-width: 150px;
        transition: transform 0.3s ease;
      }

      .benefit-item:hover {
        transform: translateY(-5px);
        background: rgba(0, 204, 255, 0.2);
      }

      .benefit-icon {
        font-size: 24px;
        margin-bottom: 8px;
        display: block;
      }

      .benefit-title {
        color: #00ccff;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .benefit-desc {
        font-size: 12px;
        color: #aaa;
      }

      .wechat-buttons {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin: 20px 0;
        width: 100%;
        max-width: 350px;
      }

      .browser-button {
        padding: 18px 35px;
        font-size: 20px;
        font-weight: bold;
        background: linear-gradient(45deg, #00cc00, #00ff88);
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 25px rgba(0, 204, 0, 0.4);
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        letter-spacing: 1px;
      }

      .browser-button:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 30px rgba(0, 204, 0, 0.6);
      }

      .browser-button:active {
        transform: translateY(-2px);
      }

      .browser-button::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transform: rotate(45deg);
        animation: buttonShine 3s infinite;
      }

      @keyframes buttonShine {
        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
      }

      .wechat-limited-button {
        padding: 15px 35px;
        font-size: 16px;
        background: rgba(255, 255, 255, 0.1);
        color: #aaa;
        border: 1px solid #666;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .wechat-limited-button:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .wechat-note {
        font-size: 14px;
        color: #888;
        margin-top: 20px;
        max-width: 300px;
        line-height: 1.5;
      }

      /* å…¨å±æŒ‰é’® */
      #fullscreen-button {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 100;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        border: 2px solid #00ccff;
        padding: 8px 12px;
        border-radius: 20px;
        font-size: 12px;
        cursor: pointer;
        display: none;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        font-weight: bold;
        letter-spacing: 1px;
        text-transform: uppercase;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
      }

      #fullscreen-button:hover {
        background: rgba(0, 204, 255, 0.3);
        border-color: #ff0080;
        transform: scale(1.1);
      }

      #fullscreen-button.fullscreen-active {
        background: rgba(255, 0, 128, 0.3);
        border-color: #ff0080;
      }

      /* å…³é”®ä¿®å¤ï¼šå…¨å±æ—¶éšè—å…¨å±æŒ‰é’® */
      :fullscreen #fullscreen-button,
      :-webkit-full-screen #fullscreen-button,
      :-moz-full-screen #fullscreen-button,
      :-ms-fullscreen #fullscreen-button {
        display: none !important;
      }

      /* å¾®ä¿¡ä¸­éšè—å…¨å±æŒ‰é’® */
      .wechat-mode #fullscreen-button {
        display: none !important;
      }

      /* è¿·ä½ æç¤ºæ¡ */
      .mini-tip {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 204, 255, 0.2);
        border: 1px solid rgba(0, 204, 255, 0.5);
        color: #00ccff;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 12px;
        display: none;
        z-index: 150;
        backdrop-filter: blur(5px);
        animation: tipPulse 3s ease-in-out infinite;
        max-width: 90%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      @keyframes tipPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
      }

      /* æ·»åŠ æ·¡å‡ºåŠ¨ç”» */
      @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
      }

      .mini-tip.fade-out {
        animation: fadeOut 0.5s ease forwards;
      }

      /* å¾®ä¿¡æ¨¡å¼ä¸‹çš„ç‰¹æ®Šå¤„ç† */
      .wechat-mode #landscape-warning {
        display: none !important;
      }

      .wechat-mode .mini-tip {
        display: none !important;
      }

      /* æ¨ªå±æ¨¡å¼ä¸‹çš„æ ·å¼è°ƒæ•´ */
      @media (orientation: landscape) {
        #landscape-warning {
          display: none !important;
        }
        
        #fullscreen-button {
          display: block;
        }
        
        .mini-tip {
          display: block;
          animation: tipPulse 3s ease-in-out infinite, fadeOut 0.5s ease 5s forwards;
        }
        
        /* å¾®ä¿¡ä¸­æ¨ªå±æ—¶ä¸æ˜¾ç¤ºå…¨å±æŒ‰é’® */
        .wechat-mode #fullscreen-button {
          display: none !important;
        }
      }

      /* ç«–å±æ¨¡å¼ä¸‹çš„ç‰¹æ®Šå¤„ç† */
      @media (orientation: portrait) {
        #landscape-warning {
          display: flex;
        }
        
        #fullscreen-button {
          display: none;
        }
        
        .mini-tip {
          display: none;
        }
      }

      /* å°å±å¹•é€‚é… */
      @media (max-width: 480px) {
        .phone-icon {
          width: 120px;
          height: 200px;
        }
        
        .phone-body {
          width: 90px;
          height: 170px;
        }
        
        .phone-screen {
          width: 75px;
          height: 120px;
        }
        
        .landscape-text {
          font-size: 22px;
        }
        
        .landscape-subtext {
          font-size: 14px;
          padding: 0 20px;
        }
        
        .continue-button {
          padding: 12px 25px;
          font-size: 16px;
        }
        
        .wechat-header {
          font-size: 12px;
          padding: 6px 12px;
        }
        
        .wechat-icon {
          font-size: 60px;
        }
        
        .wechat-title {
          font-size: 24px;
        }
        
        .wechat-subtitle {
          font-size: 16px;
        }
        
        .warning-title, .steps-title {
          font-size: 18px;
        }
        
        .step-text {
          font-size: 14px;
        }
        
        .benefit-item {
          min-width: 130px;
          padding: 10px;
        }
        
        .browser-button {
          padding: 15px 25px;
          font-size: 18px;
        }
        
        .wechat-limited-button {
          padding: 12px 25px;
          font-size: 14px;
        }
        
        #fullscreen-button {
          padding: 6px 10px;
          font-size: 10px;
          right: 5px;
          top: 5px;
        }
        
        .mini-tip {
          font-size: 10px;
          padding: 6px 12px;
          bottom: 10px;
        }
      }

      /* æ‰‹æœºæ¨ªå±ç‰¹æ®Šä¼˜åŒ– */
      @media (orientation: landscape) and (max-height: 600px) {
        .mini-tip {
          bottom: 5px;
          font-size: 10px;
          padding: 4px 8px;
        }
        
        #fullscreen-button {
          padding: 4px 8px;
          font-size: 10px;
          top: 5px;
          right: 5px;
        }
        
        .wechat-warning {
          padding: 10px;
        }
        
        .wechat-warning-box, .wechat-steps {
          margin: 10px 0;
          padding: 15px;
        }
      }

      /* æ¸¸æˆåŠ è½½æç¤º */
      .game-loading {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #00ccff;
        font-size: 18px;
        text-align: center;
        z-index: 99;
        display: none;
      }

      .loading-dots {
        display: inline-block;
        animation: dots 1.5s steps(5, end) infinite;
      }

      @keyframes dots {
        0%, 20% { content: '.'; }
        40% { content: '..'; }
        60%, 100% { content: '...'; }
      }

      /* éšè—æ»šåŠ¨æ¡ */
      ::-webkit-scrollbar {
        display: none;
      }
      
      /* iOS Safari å…¨å±ä¿®å¤ */
      @supports (-webkit-touch-callout: none) {
        html, body {
          height: -webkit-fill-available;
        }
        
        #game-container {
          height: -webkit-fill-available;
        }
      }
    </style>
  </head>

  <body>
    <!-- æ¨ªå±æç¤º -->
    <div id="landscape-warning">
      <div class="phone-icon">
        <div class="phone-body">
          <div class="phone-screen">
            <div class="music-bar" style="--i: 0;"></div>
            <div class="music-bar" style="--i: 1;"></div>
            <div class="music-bar" style="--i: 2;"></div>
            <div class="music-bar" style="--i: 3;"></div>
            <div class="music-bar" style="--i: 4;"></div>
            <div class="music-bar" style="--i: 5;"></div>
          </div>
        </div>
      </div>
      <div class="landscape-text">ğŸµ ç¿»è½¬è®¾å¤‡ï¼ŒèŠ‚å¥åŠ å€ï¼</div>
      <div class="landscape-subtext">æ¨ªå±æ¨¡å¼å¯è·å¾—æœ€ä½³æ¸¸æˆä½“éªŒ<br>è®©éŸ³ç¬¦åœ¨æ›´å®½çš„èˆå°ä¸Šé£èˆ</div>
      <button id="continue-portrait-button" class="continue-button">
        æˆ‘çŸ¥é“ï¼Œä½†æˆ‘å°±æƒ³ç«–ç€ç©
      </button>
    </div>
    
    <!-- å¾®ä¿¡æµè§ˆå™¨æç¤º - é‡æ–°è®¾è®¡ï¼Œå¼ºçƒˆè¯±å¯¼ä½¿ç”¨æµè§ˆå™¨ -->
    <div id="wechat-warning">
      <div class="wechat-header">âš ï¸ å¾®ä¿¡å†…ä½“éªŒå—é™</div>
      
      <div class="wechat-icon">ğŸµ</div>
      <div class="wechat-title">HALIBO Beats</div>
      <div class="wechat-subtitle">æ²‰æµ¸å¼éŸ³ä¹èŠ‚å¥æ¸¸æˆ</div>
      
      <div class="wechat-warning-box">
        <div class="warning-title">âš ï¸ å¾®ä¿¡å†…æ¸¸æˆä½“éªŒå—é™</div>
        <ul class="warning-list">
          <li>ğŸ”’ æ— æ³•ä½¿ç”¨å…¨å±æ¨¡å¼</li>
          <li>ğŸµ éŸ³æ•ˆ/éŸ³é¢‘å¯èƒ½ä¸æ­£å¸¸</li>
          <li>âš¡ æ¸¸æˆæ€§èƒ½é™ä½30%ä»¥ä¸Š</li>
          <li>ğŸ“± æ— æ³•æ¨ªå±è‡ªåŠ¨é€‚é…</li>
          <li>ğŸ’¾ æ— æ³•ä¿å­˜æ¸¸æˆè¿›åº¦</li>
        </ul>
      </div>
      
      <div class="wechat-steps">
        <div class="steps-title">ğŸ¯ è·å–å®Œæ•´æ¸¸æˆä½“éªŒåªéœ€3æ­¥ï¼š</div>
        
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-text">ç‚¹å‡»å³ä¸Šè§’ <span class="highlight">"Â·Â·Â·"</span> æŒ‰é’®</div>
        </div>
        
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-text">é€‰æ‹© <span class="highlight">"åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€"</span></div>
        </div>
        
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-text">ç‚¹å‡» <span class="highlight">"â›¶ å…¨å±"</span> æŒ‰é’®å¼€å§‹æ¸¸æˆ</div>
        </div>
      </div>
      
      <div class="wechat-benefits">
        <div class="benefit-item">
          <div class="benefit-icon">â›¶</div>
          <div class="benefit-title">å…¨å±æ²‰æµ¸</div>
          <div class="benefit-desc">æ— å¹²æ‰°æ¸¸æˆç•Œé¢</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">ğŸµ</div>
          <div class="benefit-title">å®Œç¾éŸ³æ•ˆ</div>
          <div class="benefit-desc">æ— å»¶è¿Ÿé«˜å“è´¨éŸ³é¢‘</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">âš¡</div>
          <div class="benefit-title">æµç•…ä½“éªŒ</div>
          <div class="benefit-desc">60å¸§ç¨³å®šæµç•…</div>
        </div>
      </div>
      
      <div class="wechat-buttons">
        <button id="browser-open-button" class="browser-button">
          ğŸŒ åœ¨æµè§ˆå™¨ä¸­å…¨å±æ¸¸ç©ï¼ˆæ¨èï¼‰
        </button>
        <button id="continue-wechat-button" class="wechat-limited-button">
          ä»è¦åœ¨å¾®ä¿¡å†…æ¸¸ç©ï¼ˆä½“éªŒå—é™ï¼‰
        </button>
      </div>
      
      <div class="wechat-note">
        ğŸ’¡ æç¤ºï¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åï¼Œå¯ä»¥æ·»åŠ åˆ°æ¡Œé¢å¿«æ·æ–¹å¼ï¼Œä¸‹æ¬¡ç›´æ¥æ‰“å¼€å°±æ˜¯å…¨å±æ¸¸æˆï¼
      </div>
    </div>
    
    <!-- æ¸¸æˆå®¹å™¨ -->
    <div id="game-container">
      <button id="fullscreen-button">â›¶ å…¨å±</button>
      <div id="game-app"></div>
      <div class="mini-tip">ğŸµ ç«–å±æ¨¡å¼ä¹Ÿèƒ½ç©ï¼Œä½†æ¨ªå±æ›´çˆ½å“¦ï¼</div>
    </div>
    
    <!-- æ¸¸æˆåŠ è½½æç¤º -->
    <div class="game-loading" id="game-loading">
      <div>åŠ è½½èŠ‚å¥ä¸­<span class="loading-dots"></span></div>
    </div>

    <script src="./bundle.js"></script>
    
    <script>
      // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
      document.addEventListener('DOMContentLoaded', function() {
        // è·å–DOMå…ƒç´ 
        const landscapeWarning = document.getElementById('landscape-warning');
        const wechatWarning = document.getElementById('wechat-warning');
        const gameContainer = document.getElementById('game-container');
        const continuePortraitButton = document.getElementById('continue-portrait-button');
        const continueWechatButton = document.getElementById('continue-wechat-button');
        const browserOpenButton = document.getElementById('browser-open-button');
        const fullscreenButton = document.getElementById('fullscreen-button');
        const gameApp = document.getElementById('game-app');
        const miniTip = document.querySelector('.mini-tip');
        const gameLoading = document.getElementById('game-loading');
        
        // æ£€æµ‹æ˜¯å¦åœ¨å¾®ä¿¡æµè§ˆå™¨ä¸­
        function isWechatBrowser() {
          const ua = navigator.userAgent.toLowerCase();
          return ua.indexOf('micromessenger') !== -1;
        }
        
        // å¾®ä¿¡æµè§ˆå™¨ç‰¹æ®Šå¤„ç†
        const isWechat = isWechatBrowser();
        let userConfirmedWechat = false; // ç”¨æˆ·æ˜¯å¦ç¡®è®¤åœ¨å¾®ä¿¡ä¸­ç©
        
        if (isWechat) {
          console.log('æ£€æµ‹åˆ°å¾®ä¿¡æµè§ˆå™¨ï¼Œå¯ç”¨ç‰¹æ®Šå¤„ç†æ¨¡å¼');
          document.body.classList.add('wechat-mode');
          
          // å¾®ä¿¡ä¸­ï¼šç«‹å³æ˜¾ç¤ºå¾®ä¿¡æç¤ºï¼Œä¸æ˜¾ç¤ºæ¨ªå±æç¤º
          setTimeout(() => {
            wechatWarning.style.display = 'flex';
            landscapeWarning.style.display = 'none';
            
            // å¾®ä¿¡ä¸­è‡ªåŠ¨éšè—å…¨å±æŒ‰é’®
            fullscreenButton.style.display = 'none';
          }, 300);
        } else {
          // éå¾®ä¿¡æµè§ˆå™¨ï¼šæ˜¾ç¤ºæ¨ªå±æç¤ºï¼ˆå¦‚æœéœ€è¦ï¼‰
          checkOrientation();
        }
        
        // æ£€æµ‹æ˜¯å¦æ¨ªå±
        function isLandscape() {
          return window.innerWidth > window.innerHeight;
        }
        
        // æ£€æŸ¥æ¨ªå±çŠ¶æ€å¹¶æ›´æ–°UI
        function checkOrientation() {
          if (isWechat && userConfirmedWechat) {
            // å¾®ä¿¡ä¸­ä¸”ç”¨æˆ·å·²ç»ç¡®è®¤ï¼šä¸æ˜¾ç¤ºä»»ä½•æç¤ºï¼Œç›´æ¥æ¸¸æˆ
            landscapeWarning.style.display = 'none';
            wechatWarning.style.display = 'none';
            fullscreenButton.style.display = 'none';
            return;
          }
          
          if (isLandscape()) {
            // æ¨ªå±æ¨¡å¼ - éšè—æç¤ºï¼Œæ˜¾ç¤ºå…¨å±æŒ‰é’®ï¼ˆéå¾®ä¿¡ï¼‰
            landscapeWarning.style.display = 'none';
            wechatWarning.style.display = 'none';
            
            if (!isWechat) {
              fullscreenButton.style.display = 'block';
              miniTip.style.display = 'block';
              
              // 5ç§’åè‡ªåŠ¨éšè—æç¤º
              setTimeout(() => {
                if (miniTip.style.display === 'block') {
                  miniTip.classList.add('fade-out');
                  setTimeout(() => {
                    miniTip.style.display = 'none';
                    miniTip.classList.remove('fade-out');
                  }, 500);
                }
              }, 5000);
            }
          } else {
            // ç«–å±æ¨¡å¼
            if (isWechat) {
              // å¾®ä¿¡ç«–å±ï¼šæ˜¾ç¤ºå¾®ä¿¡æç¤ºï¼ˆå¦‚æœç”¨æˆ·è¿˜æ²¡ç¡®è®¤ï¼‰
              if (!userConfirmedWechat) {
                wechatWarning.style.display = 'flex';
              }
              landscapeWarning.style.display = 'none';
              fullscreenButton.style.display = 'none';
            } else {
              // éå¾®ä¿¡ç«–å±ï¼šæ˜¾ç¤ºæ¨ªå±æç¤º
              landscapeWarning.style.display = 'flex';
              wechatWarning.style.display = 'none';
              fullscreenButton.style.display = 'none';
              miniTip.style.display = 'none';
            }
          }
        }
        
        // è°ƒæ•´æ¸¸æˆç”»å¸ƒå°ºå¯¸
        function adjustGameCanvas() {
          setTimeout(() => {
            const canvas = gameApp.querySelector('canvas');
            if (canvas) {
              console.log('æ‰¾åˆ°æ¸¸æˆç”»å¸ƒï¼Œè°ƒæ•´å°ºå¯¸');
              
              // è·å–å®¹å™¨å°ºå¯¸
              const containerWidth = gameContainer.clientWidth;
              const containerHeight = gameContainer.clientHeight;
              
              // è·å–ç”»å¸ƒåŸå§‹å°ºå¯¸
              const originalWidth = canvas.width || 1280;
              const originalHeight = canvas.height || 720;
              
              // è®¡ç®—ç¼©æ”¾æ¯”ä¾‹
              const scaleX = containerWidth / originalWidth;
              const scaleY = containerHeight / originalHeight;
              const scale = Math.max(scaleX, scaleY);
              
              // è®¡ç®—æ–°å°ºå¯¸ï¼ˆä¿æŒæ¯”ä¾‹ï¼‰
              const newWidth = Math.floor(originalWidth * scale);
              const newHeight = Math.floor(originalHeight * scale);
              
              // è®¾ç½®ç”»å¸ƒæ˜¾ç¤ºå°ºå¯¸
              canvas.style.width = newWidth + 'px';
              canvas.style.height = newHeight + 'px';
              canvas.style.left = '50%';
              canvas.style.top = '50%';
              canvas.style.transform = 'translate(-50%, -50%)';
              canvas.style.position = 'absolute';
              
              console.log(`ç”»å¸ƒè°ƒæ•´: ${originalWidth}x${originalHeight} -> ${newWidth}x${newHeight}, ç¼©æ”¾: ${scale}`);
            } else {
              console.log('æœªæ‰¾åˆ°æ¸¸æˆç”»å¸ƒï¼Œ1ç§’åé‡è¯•');
              setTimeout(adjustGameCanvas, 1000);
            }
          }, 1000);
        }
        
        // å…¨å±åˆ‡æ¢å‡½æ•°
        function toggleFullscreen() {
          if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {
            // è¿›å…¥å…¨å±
            const element = document.documentElement;
            
            // å¾®ä¿¡ä¸­ä¸æ‰§è¡Œå…¨å±
            if (isWechat) {
              // å¾®ä¿¡ä¸­ç‚¹å‡»å…¨å±æŒ‰é’®ï¼Œæç¤ºç”¨æˆ·ç”¨æµè§ˆå™¨æ‰“å¼€
              wechatWarning.style.display = 'flex';
              return;
            }
            
            // æ·»åŠ è§†è§‰åé¦ˆ
            fullscreenButton.classList.add('fullscreen-active');
            fullscreenButton.innerHTML = 'â›¶ é€€å‡º';
            
            // æ˜¾ç¤ºåŠ è½½æç¤º
            gameLoading.style.display = 'block';
            
            // æ‰§è¡Œå…¨å±
            const requestFullscreen = element.requestFullscreen || 
                                     element.webkitRequestFullscreen || 
                                     element.msRequestFullscreen;
            
            if (requestFullscreen) {
              requestFullscreen.call(element).then(() => {
                console.log('è¿›å…¥å…¨å±æˆåŠŸ');
                
                setTimeout(() => {
                  adjustGameCanvas();
                  gameLoading.style.display = 'none';
                }, 500);
              }).catch(err => {
                console.log('å…¨å±è¯·æ±‚å¤±è´¥:', err);
                gameLoading.style.display = 'none';
                fullscreenButton.classList.remove('fullscreen-active');
                fullscreenButton.innerHTML = 'â›¶ å…¨å±';
              });
            }
          } else {
            // é€€å‡ºå…¨å±
            fullscreenButton.classList.remove('fullscreen-active');
            fullscreenButton.innerHTML = 'â›¶ å…¨å±';
            
            const exitFullscreen = document.exitFullscreen || 
                                   document.webkitExitFullscreen || 
                                   document.msExitFullscreen;
            
            if (exitFullscreen) {
              exitFullscreen.call(document).then(() => {
                setTimeout(adjustGameCanvas, 300);
                checkOrientation();
              });
            }
          }
        }
        
        // äº‹ä»¶ç›‘å¬
        continuePortraitButton.addEventListener('click', function() {
          landscapeWarning.style.display = 'none';
          
          // æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼ˆ5ç§’åè‡ªåŠ¨æ¶ˆå¤±ï¼‰
          miniTip.textContent = 'ğŸµ ç«–å±æ¨¡å¼ä¹Ÿèƒ½ç©ï¼Œä½†æ¨ªå±æ›´çˆ½å“¦ï¼';
          miniTip.style.display = 'block';
          setTimeout(() => {
            if (miniTip.style.display === 'block') {
              miniTip.classList.add('fade-out');
              setTimeout(() => {
                miniTip.style.display = 'none';
                miniTip.classList.remove('fade-out');
              }, 500);
            }
          }, 5000);
          
          // è°ƒæ•´ç”»å¸ƒå°ºå¯¸
          setTimeout(adjustGameCanvas, 500);
        });
        
        // æµè§ˆå™¨æ‰“å¼€æŒ‰é’®ï¼ˆå¾®ä¿¡ä¸­ï¼‰
        browserOpenButton.addEventListener('click', function() {
          // åœ¨å¾®ä¿¡ä¸­ï¼Œè¿™ä¸ªæŒ‰é’®å®é™…ä¸Šä¸èƒ½ç›´æ¥æ‰“å¼€æµè§ˆå™¨
          // ä½†æˆ‘ä»¬å¼ºçƒˆæç¤ºç”¨æˆ·æ‰‹åŠ¨æ“ä½œ
          alert('ğŸ® è¯·ç‚¹å‡»å³ä¸Šè§’"Â·Â·Â·" â†’ é€‰æ‹©"åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€" â†’ ç„¶åç‚¹å‡»å…¨å±æŒ‰é’®å¼€å§‹æ¸¸æˆï¼\n\nğŸ’¡ è¿™æ˜¯è·å¾—å®Œæ•´æ¸¸æˆä½“éªŒçš„å”¯ä¸€æ–¹å¼ï¼');
          
          // åŒæ—¶å¼€å§‹æ¸¸æˆï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰
          userConfirmedWechat = true;
          wechatWarning.style.display = 'none';
          
          // è§¦å‘ä¸€æ¬¡ç‚¹å‡»ä»¥æ¿€æ´»éŸ³é¢‘
          setTimeout(() => {
            const clickEvent = new MouseEvent('click', {
              view: window,
              bubbles: true,
              cancelable: true
            });
            gameApp.dispatchEvent(clickEvent);
          }, 100);
          
          // è°ƒæ•´ç”»å¸ƒå°ºå¯¸
          setTimeout(adjustGameCanvas, 500);
        });
        
        continueWechatButton.addEventListener('click', function() {
          userConfirmedWechat = true;
          wechatWarning.style.display = 'none';
          
          // æ˜¾ç¤ºè­¦å‘Šæç¤º
          miniTip.textContent = 'âš ï¸ å¾®ä¿¡å†…ä½“éªŒå—é™ï¼Œå»ºè®®ç”¨æµè§ˆå™¨æ‰“å¼€ï¼';
          miniTip.style.display = 'block';
          miniTip.style.background = 'rgba(255, 0, 0, 0.2)';
          miniTip.style.borderColor = 'rgba(255, 0, 0, 0.5)';
          miniTip.style.color = '#ff5555';
          
          setTimeout(() => {
            if (miniTip.style.display === 'block') {
              miniTip.classList.add('fade-out');
              setTimeout(() => {
                miniTip.style.display = 'none';
                miniTip.classList.remove('fade-out');
                miniTip.style.background = '';
                miniTip.style.borderColor = '';
                miniTip.style.color = '';
              }, 500);
            }
          }, 5000);
          
          // è§¦å‘ä¸€æ¬¡ç‚¹å‡»ä»¥æ¿€æ´»éŸ³é¢‘
          setTimeout(() => {
            const clickEvent = new MouseEvent('click', {
              view: window,
              bubbles: true,
              cancelable: true
            });
            gameApp.dispatchEvent(clickEvent);
          }, 100);
          
          // è°ƒæ•´ç”»å¸ƒå°ºå¯¸
          setTimeout(adjustGameCanvas, 500);
          
          console.log('å¾®ä¿¡ç”¨æˆ·ç¡®è®¤å¼€å§‹æ¸¸æˆï¼ˆå—é™æ¨¡å¼ï¼‰');
        });
        
        fullscreenButton.addEventListener('click', toggleFullscreen);
        
        // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–
        document.addEventListener('fullscreenchange', function() {
          if (document.fullscreenElement) {
            fullscreenButton.classList.add('fullscreen-active');
            fullscreenButton.innerHTML = 'â›¶ é€€å‡º';
            fullscreenButton.style.display = 'none';
            miniTip.style.display = 'none';
            
            setTimeout(() => {
              adjustGameCanvas();
            }, 100);
          } else {
            fullscreenButton.classList.remove('fullscreen-active');
            fullscreenButton.innerHTML = 'â›¶ å…¨å±';
            miniTip.style.display = 'none';
            
            setTimeout(() => {
              if (isLandscape() && !isWechat) {
                fullscreenButton.style.display = 'block';
                miniTip.style.display = 'block';
                setTimeout(() => {
                  if (miniTip.style.display === 'block') {
                    miniTip.classList.add('fade-out');
                    setTimeout(() => {
                      miniTip.style.display = 'none';
                      miniTip.classList.remove('fade-out');
                    }, 500);
                  }
                }, 5000);
              }
            }, 100);
          }
        });
        
        document.addEventListener('webkitfullscreenchange', function() {
          if (document.webkitFullscreenElement) {
            fullscreenButton.classList.add('fullscreen-active');
            fullscreenButton.innerHTML = 'â›¶ é€€å‡º';
            fullscreenButton.style.display = 'none';
            miniTip.style.display = 'none';
          } else {
            fullscreenButton.classList.remove('fullscreen-active');
            fullscreenButton.innerHTML = 'â›¶ å…¨å±';
            miniTip.style.display = 'none';
            
            setTimeout(() => {
              if (isLandscape() && !isWechat) {
                fullscreenButton.style.display = 'block';
                miniTip.style.display = 'block';
                setTimeout(() => {
                  if (miniTip.style.display === 'block') {
                    miniTip.classList.add('fade-out');
                    setTimeout(() => {
                      miniTip.style.display = 'none';
                      miniTip.classList.remove('fade-out');
                    }, 500);
                  }
                }, 5000);
              }
            }, 100);
          }
        });
        
        // ç›‘å¬æ¨ªç«–å±å˜åŒ–ï¼ˆå¾®ä¿¡ä¸­å¯èƒ½ä¸è§¦å‘ï¼‰
        window.addEventListener('resize', function() {
          checkOrientation();
          setTimeout(adjustGameCanvas, 300);
        });
        
        // éå¾®ä¿¡æµè§ˆå™¨ç›‘å¬orientationchange
        if (!isWechat) {
          window.addEventListener('orientationchange', function() {
            setTimeout(() => {
              checkOrientation();
              adjustGameCanvas();
            }, 100);
          });
        }
        
        // é˜²æ­¢è§¦æ‘¸é»˜è®¤è¡Œä¸º
        document.addEventListener('touchstart', function(e) {
          if (e.touches.length > 1) {
            e.preventDefault();
          }
        }, { passive: false });
        
        // é˜²æ­¢åŒå‡»ç¼©æ”¾
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
          const now = Date.now();
          if (now - lastTouchEnd <= 300) {
            e.preventDefault();
          }
          lastTouchEnd = now;
        }, false);
        
        // åˆå§‹è°ƒæ•´ç”»å¸ƒå°ºå¯¸
        setTimeout(adjustGameCanvas, 2000);
        
        // æ³¨å†ŒService Workerï¼ˆéå¾®ä¿¡ï¼‰
        if ('serviceWorker' in navigator && !isWechat) {
          window.addEventListener('load', () => {
            navigator.serviceWorker.register('./service-worker.js').catch(error => {
              console.log('Service Worker æ³¨å†Œå¤±è´¥:', error);
            });
          });
        }
        
        // æä¾›å…¨å±€å‡½æ•°ä¾›bundle.jsè°ƒç”¨
        window.toggleFullscreen = toggleFullscreen;
        window.adjustGameCanvas = adjustGameCanvas;
      });
    </script>
  </body>
</html>